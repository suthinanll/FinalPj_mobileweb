<!DOCTYPE html>
<html lang="th">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>เมนู</title>
  <link rel="stylesheet" href="style.css">
  <!-- เชื่อมต่อกับ Google fonts สำหรับไอคอน -->
  <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Rounded:opsz,wght,FILL,GRAD@24,400,0,0">
<!-- Bootstrap  -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
<!-- Bootstrap CSS -->
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">




<script src="https://cdn.jsdelivr.net/npm/react/umd/react.production.min.js" crossorigin></script>
<script src="https://cdn.jsdelivr.net/npm/react-dom/umd/react-dom.production.min.js" crossorigin></script>
<script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous" />
<script src="https://cdn.jsdelivr.net/npm/react-bootstrap@next/dist/react-bootstrap.min.js" crossorigin></script>
<script src="https://www.gstatic.com/firebasejs/10.8.0/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/10.8.0/firebase-firestore-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/10.8.0/firebase-auth-compat.js"></script>
</head>
<style>
.navbar {
  width: 100%;
  height: 60px;
  background-color: white;
  padding: 0 20px;
  font-weight: 600;
  position: fixed;
  top: 0;
  left: 0;
  z-index: 1000;
}
</style>
<body>


    
  <nav class="navbar navbar-light">
    <a class="navbar-brand" href="#">RoomClass</a>
    <button class="menu-toggler">
        <span class="material-symbols-rounded">menu</span>
    </button>
</nav>

<aside class="sidebar">
    <nav class="sidebar-nav">
        <ul class="nav-list primary-nav">
            <li class="nav-item">
                <a href="./dashboard.html" class="nav-link">
                    <span class="nav-icon material-symbols-rounded">home</span>
                    <span class="nav-label">หน้าหลัก</span>
                </a>
            </li>
            <li class="nav-item">
                <a href="./AddcClassroom.html" class="nav-link">
                    <span class="nav-icon material-symbols-rounded">add</span>
                    <span class="nav-label">เพิ่มห้องเรียน</span>
                </a>
            </li>
            <li class="nav-item">
                <a href="#" class="nav-link">
                    <span class="nav-icon material-symbols-rounded">list</span>
                    <span class="nav-label">แบบทดสอบ</span>
                </a>
            </li>
            <li class="nav-item">
                <a href="./RoomList.html" class="nav-link">
                    <span class="nav-icon material-symbols-rounded">class</span>
                    <span class="nav-label">ห้องเรียน</span>
                </a>
            </li>
        </ul>
        <ul class="nav-list secondary-nav">
            <li class="nav-item">
                <a href="#" class="nav-link">
                    <span class="nav-icon material-symbols-rounded">logout</span>
                    <span class="nav-label">Logout</span>
                </a>
            </li>
        </ul>
    </nav>
</aside>

     


  
   

    <div id="app"></div>

    <script type="text/babel">
        const { useState, useEffect } = React;
        const { Container, Card, Spinner } = ReactBootstrap;

        // ตั้งค่า Firebase
        const firebaseConfig = {
            apiKey: "AIzaSyD3fKnhvyVNEWgE6lmgRtVsBZFSBjJdOOA",
            authDomain: "project-finalmbw.firebaseapp.com",
            projectId: "project-finalmbw",
            storageBucket: "project-finalmbw.firebasestorage.app",
            messagingSenderId: "742173296191",
            appId: "1:742173296191:web:91474e78e2c39275725a8a",
            measurementId: "G-MNXL2CMT5S"
        };

        firebase.initializeApp(firebaseConfig);
        const db = firebase.firestore();

        // คอมโพเนนต์สำหรับดึงและแสดงห้องเรียน
        function ClassroomList() {
            const [classrooms, setClassrooms] = useState([]);
            const [loading, setLoading] = useState(true);

            useEffect(() => {
                const fetchClassrooms = async () => {
                    try {
                        const snapshot = await db.collection("classroom").orderBy("createdAt", "desc").get();
                        const classroomData = snapshot.docs.map(doc => ({ id: doc.id, ...doc.data() }));
                        setClassrooms(classroomData);
                    } catch (error) {
                        console.error("Error fetching data:", error);
                    }
                    setLoading(false);
                };

                fetchClassrooms();
            }, []);

            return (
                <Container className="mt-4">
                    <h2 className="text-center mb-4">Classroom List</h2>
                    {loading ? (
                        <div className="text-center">
                            <Spinner animation="border" />
                        </div>
                    ) : classrooms.length > 0 ? (
                        classrooms.map(classroom => (
                            <Card key={classroom.id} className="mb-3 p-3 shadow">
                                <h4>{classroom.className}</h4>
                                <p><b>Group:</b> {classroom.group}</p>
                                <p><b>Subject:</b> {classroom.subject}</p>
                                <p><b>Room:</b> {classroom.room}</p>
                                {classroom.imageUrl && <img src={classroom.imageUrl} alt="Classroom" className="img-fluid" />}
                            </Card>
                        ))
                    ) : (
                        <p className="text-center">No classrooms available.</p>
                    )}
                </Container>
            );
        }

        function App() {
            return <ClassroomList />;
        }

        ReactDOM.createRoot(document.getElementById("app")).render(<App />);
    </script>
</body>
</html>

</body>
</html>